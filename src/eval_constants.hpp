#pragma once

#include "eval_types.hpp"

namespace Clockwork {

// clang-format off
inline const PParam PAWN_MAT   = S(174, 150);
inline const PParam KNIGHT_MAT = S(674, 427);
inline const PParam BISHOP_MAT = S(744, 456);
inline const PParam ROOK_MAT   = S(608, 479);
inline const PParam QUEEN_MAT  = S(1410, 725);
inline const PParam TEMPO_VAL  = S(63, 14);

inline const PParam BISHOP_PAIR_VAL   = S(76, 161);
inline const PParam ROOK_OPEN_VAL     = S(107, -24);
inline const PParam ROOK_SEMIOPEN_VAL = S(41, 15);

inline const PParam DOUBLED_PAWN_VAL = S(-34, -74);

inline const PParam POTENTIAL_CHECKER_VAL = S(-59, -7);
inline const PParam OUTPOST_KNIGHT_VAL    = S(48, 46);
inline const PParam OUTPOST_BISHOP_VAL    = S(62, 31);

inline const PParam PAWN_PUSH_THREAT_KNIGHT = S(47, 6);
inline const PParam PAWN_PUSH_THREAT_BISHOP = S(59, -21);
inline const PParam PAWN_PUSH_THREAT_ROOK   = S(36, 39);
inline const PParam PAWN_PUSH_THREAT_QUEEN  = S(74, -52);

inline const std::array<PParam, 6> PAWN_PHALANX = {
    S(21, 9), S(45, 32), S(53, 68), S(164, 146), S(464, 186), S(651, 633),
};
inline const std::array<PParam, 5> DEFENDED_PAWN = {
    S(68, 38), S(56, 37), S(70, 66), S(162, 120), S(558, -11),
};
inline const std::array<PParam, 6> PASSED_PAWN = {
    S(-96, -99), S(-87, -79), S(-52, 1), S(26, 82), S(125, 205), S(324, 279),
};
inline const std::array<PParam, 6> DEFENDED_PASSED_PUSH = {
    S(36, -34), S(35, -6), S(20, 22), S(9, 72), S(75, 138), S(175, 234),
};
inline const std::array<PParam, 6> BLOCKED_PASSED_PAWN = {
    S(19, -33), S(-2, 8), S(-17, -14), S(-30, -36), S(-48, -79), S(-294, -104),
};

inline const std::array<PParam, 8> FRIENDLY_KING_PASSED_PAWN_DISTANCE = {
    S(0, 0), S(16, 109), S(-6, 88), S(-9, 37), S(-6, 8), S(1, 4), S(36, 1), S(9, -7),
};
inline const std::array<PParam, 8> ENEMY_KING_PASSED_PAWN_DISTANCE = {
    S(0, 0), S(-330, -10), S(-28, 16), S(-10, 42), S(24, 72), S(38, 87), S(53, 91), S(28, 86),
};

inline const std::array<PParam, 9> KNIGHT_MOBILITY = {
    S(92, -33), S(184, 136), S(231, 210), S(264, 243), S(307, 256), S(334, 287), S(367, 283), S(397, 283), S(442, 217),
};
inline const std::array<PParam, 14> BISHOP_MOBILITY = {
    S(107, -75), S(163, 122), S(231, 180), S(258, 224), S(284, 253), S(303, 275), S(311, 289), S(326, 295), S(336, 305), S(352, 294), S(369, 288), S(415, 251), S(416, 255), S(471, 210),
};
inline const std::array<PParam, 15> ROOK_MOBILITY = {
    S(340, 173), S(285, 331), S(313, 351), S(333, 358), S(347, 369), S(353, 380), S(361, 387), S(371, 386), S(379, 391), S(392, 391), S(404, 390), S(415, 388), S(423, 386), S(436, 373), S(537, 282),
};
inline const std::array<PParam, 28> QUEEN_MOBILITY = {
    S(649, 240), S(757, 313), S(789, 420), S(812, 525), S(828, 580), S(839, 623), S(845, 657), S(855, 661), S(857, 688), S(863, 692), S(867, 703), S(872, 705), S(879, 703), S(882, 705), S(884, 701), S(887, 698), S(887, 694), S(893, 688), S(902, 672), S(919, 653), S(936, 628), S(962, 596), S(994, 557), S(1102, 455), S(1138, 406), S(1206, 370), S(1210, 351), S(1155, 365),
};
inline const std::array<PParam, 9> KING_MOBILITY = {
    S(536, -224), S(126, -135), S(39, -48), S(26, -10), S(2, -4), S(-23, 5), S(-26, 15), S(-39, 19), S(-47, -4),
};

inline const std::array<PParam, 5> PT_INNER_RING_ATTACKS = {
    S(11, -13), S(17, -16), S(14, -13), S(6, -9), S(3, 207),
};
inline const std::array<PParam, 5> PT_OUTER_RING_ATTACKS = {
    S(3, -2), S(7, -10), S(6, -9), S(6, -6), S(7, 469),
};

inline const PParam PAWN_THREAT_KNIGHT = S(239, 69);
inline const PParam PAWN_THREAT_BISHOP = S(219, 119);
inline const PParam PAWN_THREAT_ROOK   = S(220, 89);
inline const PParam PAWN_THREAT_QUEEN  = S(191, -51);

inline const PParam KNIGHT_THREAT_BISHOP = S(125, 73);
inline const PParam KNIGHT_THREAT_ROOK   = S(256, 16);
inline const PParam KNIGHT_THREAT_QUEEN  = S(168, -42);

inline const PParam BISHOP_THREAT_KNIGHT = S(112, 41);
inline const PParam BISHOP_THREAT_ROOK   = S(246, 71);
inline const PParam BISHOP_THREAT_QUEEN  = S(201, 49);

inline const std::array<PParam, 9> BISHOP_PAWNS = {
    S(3, -20), S(-1, -13), S(-3, -20), S(-6, -25), S(-11, -28), S(-16, -29), S(-18, -34), S(-23, -33), S(-31, -35),
};

inline const PParam ROOK_LINEUP = S(13, 74);

inline const std::array<PParam, 48> PAWN_PSQT = {
    S(318, 287),    S(194, 371),    S(321, 340),    S(339, 215),    S(366, 163),    S(287, 238),    S(230, 263),    S(315, 221),    //
    S(126, 184),    S(183, 216),    S(212, 136),    S(204, 83),     S(181, 70),     S(152, 116),    S(134, 152),    S(72, 173),     //
    S(98, 148),     S(99, 148),     S(137, 77),     S(134, 62),     S(120, 64),     S(91, 97),      S(52, 136),     S(32, 157),     //
    S(70, 108),     S(76, 130),     S(109, 74),     S(107, 67),     S(84, 72),      S(69, 99),      S(16, 139),     S(2, 128),      //
    S(53, 88),      S(106, 96),     S(84, 121),     S(80, 106),     S(51, 106),     S(30, 113),     S(7, 126),      S(-13, 116),    //
    S(70, 93),      S(178, 105),    S(154, 149),    S(110, 134),    S(79, 128),     S(57, 127),     S(43, 136),     S(6, 134),      //
};
inline const std::array<PParam, 64> KNIGHT_PSQT = {
    S(-276, 35),    S(-183, 218),   S(-271, 289),   S(90, 179),     S(34, 175),     S(-95, 170),    S(-273, 213),   S(-337, 108),   //
    S(102, 161),    S(166, 158),    S(245, 122),    S(242, 139),    S(227, 156),    S(162, 149),    S(125, 170),    S(88, 147),     //
    S(195, 131),    S(231, 162),    S(259, 187),    S(250, 184),    S(224, 190),    S(164, 207),    S(168, 151),    S(126, 150),    //
    S(261, 150),    S(274, 164),    S(280, 193),    S(273, 213),    S(275, 214),    S(226, 207),    S(213, 171),    S(202, 145),    //
    S(250, 150),    S(279, 143),    S(269, 186),    S(263, 201),    S(243, 204),    S(236, 194),    S(221, 148),    S(190, 146),    //
    S(183, 132),    S(213, 133),    S(205, 170),    S(220, 190),    S(218, 187),    S(177, 174),    S(168, 135),    S(134, 113),    //
    S(194, 123),    S(220, 125),    S(190, 131),    S(196, 149),    S(185, 147),    S(154, 115),    S(153, 121),    S(116, 62),     //
    S(128, 103),    S(174, 155),    S(193, 117),    S(207, 110),    S(192, 125),    S(154, 105),    S(141, 132),    S(90, 78),      //
};
inline const std::array<PParam, 64> BISHOP_PSQT = {
    S(10, 274),     S(-7, 266),     S(-260, 311),   S(-161, 288),   S(-148, 306),   S(-212, 319),   S(-72, 313),    S(28, 280),     //
    S(146, 188),    S(104, 253),    S(122, 226),    S(61, 257),     S(64, 259),     S(106, 245),    S(141, 230),    S(116, 211),    //
    S(221, 201),    S(237, 219),    S(244, 231),    S(214, 223),    S(185, 220),    S(196, 223),    S(210, 214),    S(188, 191),    //
    S(198, 191),    S(230, 207),    S(237, 226),    S(240, 251),    S(270, 233),    S(197, 224),    S(198, 196),    S(157, 195),    //
    S(219, 157),    S(241, 186),    S(252, 208),    S(260, 224),    S(241, 234),    S(215, 225),    S(177, 204),    S(169, 168),    //
    S(241, 162),    S(281, 174),    S(291, 194),    S(243, 223),    S(235, 206),    S(229, 212),    S(236, 187),    S(174, 191),    //
    S(213, 127),    S(305, 144),    S(266, 158),    S(235, 181),    S(215, 184),    S(217, 160),    S(213, 161),    S(207, 146),    //
    S(230, 144),    S(221, 169),    S(228, 191),    S(241, 154),    S(236, 158),    S(233, 200),    S(228, 176),    S(210, 169),    //
};
inline const std::array<PParam, 64> ROOK_PSQT = {
    S(489, 320),    S(532, 323),    S(483, 342),    S(488, 330),    S(488, 320),    S(458, 325),    S(455, 338),    S(443, 347),    //
    S(377, 382),    S(472, 360),    S(540, 336),    S(482, 350),    S(473, 353),    S(451, 357),    S(380, 388),    S(358, 396),    //
    S(350, 371),    S(473, 336),    S(514, 322),    S(490, 318),    S(454, 332),    S(411, 356),    S(409, 356),    S(333, 395),    //
    S(341, 349),    S(428, 344),    S(461, 331),    S(442, 329),    S(433, 336),    S(394, 355),    S(379, 355),    S(307, 378),    //
    S(310, 308),    S(380, 314),    S(377, 328),    S(356, 330),    S(341, 342),    S(330, 356),    S(301, 350),    S(276, 348),    //
    S(286, 270),    S(353, 278),    S(343, 301),    S(330, 298),    S(325, 297),    S(301, 321),    S(294, 304),    S(256, 313),    //
    S(195, 285),    S(319, 237),    S(331, 259),    S(326, 272),    S(316, 274),    S(305, 280),    S(289, 266),    S(258, 282),    //
    S(243, 283),    S(269, 294),    S(329, 266),    S(344, 260),    S(333, 269),    S(315, 284),    S(302, 281),    S(280, 300),    //
};
inline const std::array<PParam, 64> QUEEN_PSQT = {
    S(649, 513),    S(699, 481),    S(670, 530),    S(621, 614),    S(631, 582),    S(625, 566),    S(651, 494),    S(577, 560),    //
    S(644, 571),    S(614, 654),    S(597, 689),    S(455, 780),    S(463, 767),    S(531, 712),    S(570, 611),    S(579, 588),    //
    S(618, 609),    S(670, 627),    S(616, 703),    S(561, 736),    S(535, 727),    S(568, 678),    S(614, 588),    S(613, 538),    //
    S(652, 541),    S(667, 604),    S(610, 669),    S(594, 714),    S(581, 717),    S(581, 649),    S(632, 562),    S(617, 532),    //
    S(658, 521),    S(663, 557),    S(639, 616),    S(609, 663),    S(610, 654),    S(606, 616),    S(615, 551),    S(636, 482),    //
    S(637, 462),    S(674, 503),    S(671, 563),    S(642, 561),    S(637, 554),    S(636, 569),    S(645, 499),    S(620, 477),    //
    S(617, 361),    S(654, 356),    S(662, 415),    S(679, 450),    S(664, 478),    S(655, 449),    S(625, 483),    S(629, 466),    //
    S(592, 383),    S(627, 230),    S(648, 241),    S(668, 339),    S(671, 396),    S(667, 353),    S(654, 379),    S(612, 430),    //
};
inline const std::array<PParam, 64> KING_PSQT = {
    S(-262, -269),  S(211, 81),     S(133, 53),     S(-171, 32),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(276, -108),   S(359, 78),     S(190, 97),     S(88, 6),       S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(199, 29),     S(420, 50),     S(287, 65),     S(138, 4),      S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-13, 32),     S(312, 28),     S(137, 51),     S(48, 24),      S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-98, 22),     S(201, 6),      S(134, 15),     S(25, 17),      S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-63, 23),     S(192, -5),     S(98, 11),      S(67, -16),     S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(1, -7),       S(95, 20),      S(7, 31),       S(-42, 1),      S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-122, -34),   S(-7, -15),     S(-109, 1),     S(-119, -63),   S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
};

inline const std::array<std::array<PParam, 7>, 4> KING_SHELTER = {{
  {{ S(16, -26), S(-2, 8), S(-8, 15), S(-0, 1), S(-0, 0), S(-7, 16), S(-0, 13), }},
  {{ S(7, -8), S(-23, 31), S(-20, 26), S(-12, 6), S(-11, 9), S(-20, 32), S(-23, 43), }},
  {{ S(-7, 2), S(-21, 26), S(-19, 9), S(-16, -7), S(-15, -5), S(-18, 10), S(-19, 25), }},
  {{ S(3, -15), S(-17, -21), S(-9, -22), S(-4, -26), S(-5, -24), S(-10, -18), S(-13, -16), }},
}};
inline const std::array<PParam, 7> BLOCKED_SHELTER_STORM = {
    S(0, 0), S(0, 0), S(5, 19), S(-22, 34), S(-19, 22), S(-10, 10), S(-15, -3),
};
inline const std::array<std::array<PParam, 7>, 4> SHELTER_STORM = {{
  {{ S(-8, 12), S(-18, 17), S(-16, 15), S(-15, 11), S(-17, 6), S(-15, 6), S(-18, 14), }},
  {{ S(-7, 9), S(-15, 14), S(-22, 20), S(-18, 10), S(-18, 7), S(-21, 15), S(-15, 13), }},
  {{ S(-12, 9), S(-17, 2), S(-18, 11), S(-14, 10), S(-13, 8), S(-18, 9), S(-17, 4), }},
  {{ S(-14, 11), S(-20, 10), S(-20, 10), S(-14, 15), S(-13, 14), S(-20, 9), S(-22, 9), }},
}};
inline TunableSigmoid<32> KING_SAFETY_ACTIVATION(
        1071, 417, -25, 46
);
// Epoch duration: 8.81899s
// Epoch duration: 9.30939s
// clang-format on
}  // namespace Clockwork
