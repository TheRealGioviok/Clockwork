#pragma once

#include "eval_types.hpp"

namespace Clockwork {

// clang-format off
inline const PParam PAWN_MAT   = S(175, 149);
inline const PParam KNIGHT_MAT = S(682, 431);
inline const PParam BISHOP_MAT = S(753, 448);
inline const PParam ROOK_MAT   = S(612, 479);
inline const PParam QUEEN_MAT  = S(1418, 728);
inline const PParam TEMPO_VAL  = S(63, 14);

inline const PParam BISHOP_PAIR_VAL   = S(76, 161);
inline const PParam ROOK_OPEN_VAL     = S(108, -22);
inline const PParam ROOK_SEMIOPEN_VAL = S(47, 15);

inline const PParam DOUBLED_PAWN_VAL = S(-12, -60);
inline const PParam ISOLATED_PAWN_VAL = S(-22, -18);

inline const PParam POTENTIAL_CHECKER_VAL = S(-63, -6);
inline const PParam OUTPOST_KNIGHT_VAL    = S(36, 53);
inline const PParam OUTPOST_BISHOP_VAL    = S(54, 31);

inline const PParam PAWN_PUSH_THREAT_KNIGHT = S(47, 3);
inline const PParam PAWN_PUSH_THREAT_BISHOP = S(54, -22);
inline const PParam PAWN_PUSH_THREAT_ROOK   = S(36, 38);
inline const PParam PAWN_PUSH_THREAT_QUEEN  = S(66, -46);

inline const std::array<PParam, 6> PAWN_PHALANX = {
    S(21, -1), S(50, 18), S(62, 48), S(156, 125), S(507, 138), S(668, 601),
};
inline const std::array<PParam, 5> DEFENDED_PAWN = {
    S(63, 21), S(52, 17), S(58, 45), S(150, 97), S(562, -42),
};
inline const std::array<PParam, 6> PASSED_PAWN = {
    S(-82, -98), S(-69, -83), S(-33, 0), S(20, 85), S(94, 215), S(314, 282),
};
inline const std::array<PParam, 6> DEFENDED_PASSED_PUSH = {
    S(30, -34), S(34, -6), S(27, 19), S(24, 70), S(89, 141), S(187, 236),
};
inline const std::array<PParam, 6> BLOCKED_PASSED_PAWN = {
    S(17, -32), S(-3, 10), S(-5, -18), S(-9, -40), S(-22, -88), S(-268, -115),
};

inline const std::array<PParam, 8> FRIENDLY_KING_PASSED_PAWN_DISTANCE = {
    S(0, 0), S(27, 108), S(-7, 92), S(-7, 39), S(-5, 10), S(5, 8), S(43, 5), S(14, -4),
};
inline const std::array<PParam, 8> ENEMY_KING_PASSED_PAWN_DISTANCE = {
    S(0, 0), S(-251, -32), S(14, 4), S(-3, 45), S(11, 81), S(30, 96), S(46, 99), S(22, 97),
};

inline const std::array<PParam, 9> KNIGHT_MOBILITY = {
    S(95, -36), S(182, 134), S(227, 206), S(260, 240), S(304, 253), S(331, 287), S(365, 283), S(401, 289), S(447, 229),
};
inline const std::array<PParam, 14> BISHOP_MOBILITY = {
    S(105, -74), S(161, 119), S(228, 177), S(260, 220), S(287, 252), S(307, 272), S(317, 288), S(334, 294), S(345, 306), S(365, 296), S(382, 290), S(432, 250), S(437, 250), S(495, 205),
};
inline const std::array<PParam, 15> ROOK_MOBILITY = {
    S(344, 163), S(287, 329), S(314, 349), S(334, 356), S(347, 367), S(354, 378), S(362, 386), S(372, 385), S(381, 391), S(392, 391), S(406, 389), S(417, 388), S(425, 386), S(438, 372), S(543, 281),
};
inline const std::array<PParam, 28> QUEEN_MOBILITY = {
    S(651, 219), S(757, 314), S(789, 411), S(812, 524), S(827, 580), S(839, 623), S(846, 657), S(855, 665), S(858, 689), S(864, 699), S(869, 708), S(874, 710), S(883, 705), S(886, 708), S(889, 703), S(891, 701), S(893, 697), S(897, 691), S(905, 677), S(921, 658), S(937, 633), S(965, 599), S(1004, 557), S(1097, 462), S(1145, 410), S(1205, 371), S(1240, 336), S(1178, 352),
};
inline const std::array<PParam, 9> KING_MOBILITY = {
    S(461, -180), S(70, -113), S(1, -24), S(-5, 13), S(-15, 17), S(-14, 15), S(16, 11), S(27, 7), S(66, -42),
};

inline const std::array<PParam, 5> PT_INNER_RING_ATTACKS = {
    S(0, 0), S(22, -18), S(17, -12), S(8, -9), S(3, 314),
};
inline const std::array<PParam, 5> PT_OUTER_RING_ATTACKS = {
    S(0, 0), S(6, -11), S(6, -8), S(7, -6), S(8, 439),
};

inline const PParam PAWN_THREAT_KNIGHT = S(236, 66);
inline const PParam PAWN_THREAT_BISHOP = S(212, 116);
inline const PParam PAWN_THREAT_ROOK   = S(217, 84);
inline const PParam PAWN_THREAT_QUEEN  = S(178, -44);

inline const PParam KNIGHT_THREAT_BISHOP = S(122, 74);
inline const PParam KNIGHT_THREAT_ROOK   = S(255, 17);
inline const PParam KNIGHT_THREAT_QUEEN  = S(166, -43);

inline const PParam BISHOP_THREAT_KNIGHT = S(116, 41);
inline const PParam BISHOP_THREAT_ROOK   = S(247, 72);
inline const PParam BISHOP_THREAT_QUEEN  = S(200, 55);

inline const std::array<PParam, 9> BISHOP_PAWNS = {
    S(2, -21), S(-5, -9), S(-7, -19), S(-12, -26), S(-19, -31), S(-26, -34), S(-30, -42), S(-36, -40), S(-48, -37),
};

inline const PParam ROOK_LINEUP = S(13, 73);

inline const std::array<PParam, 48> PAWN_PSQT = {
    S(305, 296),    S(186, 365),    S(320, 336),    S(333, 210),    S(359, 162),    S(280, 238),    S(219, 267),    S(304, 235),    //
    S(150, 179),    S(209, 201),    S(241, 125),    S(227, 70),     S(201, 60),     S(176, 106),    S(150, 146),    S(92, 173),     //
    S(106, 150),    S(97, 149),     S(144, 80),     S(146, 65),     S(130, 67),     S(98, 98),      S(48, 138),     S(38, 161),     //
    S(65, 116),     S(49, 135),     S(90, 87),      S(90, 80),      S(68, 84),      S(50, 107),     S(-10, 144),    S(-5, 136),     //
    S(60, 92),      S(93, 95),      S(87, 123),     S(80, 109),     S(50, 110),     S(26, 117),     S(-7, 129),     S(-10, 121),    //
    S(77, 93),      S(166, 96),     S(171, 141),    S(116, 128),    S(82, 124),     S(56, 126),     S(24, 133),     S(8, 136),      //
};
inline const std::array<PParam, 64> KNIGHT_PSQT = {
    S(-284, 42),    S(-183, 226),   S(-273, 300),   S(95, 190),     S(37, 186),     S(-97, 179),    S(-279, 222),   S(-345, 113),   //
    S(105, 165),    S(167, 165),    S(254, 127),    S(255, 144),    S(238, 163),    S(169, 154),    S(125, 176),    S(87, 152),     //
    S(205, 133),    S(234, 169),    S(262, 190),    S(255, 188),    S(230, 193),    S(160, 210),    S(169, 157),    S(129, 154),    //
    S(271, 153),    S(290, 163),    S(286, 193),    S(283, 214),    S(281, 217),    S(231, 206),    S(221, 172),    S(208, 148),    //
    S(254, 153),    S(289, 144),    S(271, 185),    S(264, 204),    S(244, 206),    S(237, 191),    S(229, 148),    S(193, 149),    //
    S(182, 134),    S(210, 134),    S(203, 166),    S(217, 189),    S(216, 185),    S(174, 169),    S(165, 136),    S(131, 114),    //
    S(196, 122),    S(217, 127),    S(189, 129),    S(193, 149),    S(182, 147),    S(150, 114),    S(149, 124),    S(114, 64),     //
    S(123, 103),    S(171, 155),    S(190, 118),    S(205, 113),    S(190, 127),    S(151, 109),    S(137, 135),    S(85, 79),      //
};
inline const std::array<PParam, 64> BISHOP_PSQT = {
    S(14, 272),     S(-4, 264),     S(-256, 309),   S(-155, 286),   S(-143, 304),   S(-211, 319),   S(-69, 311),    S(29, 279),     //
    S(148, 187),    S(99, 252),     S(125, 223),    S(68, 252),     S(70, 255),     S(108, 242),    S(137, 228),    S(117, 210),    //
    S(224, 199),    S(234, 219),    S(238, 230),    S(213, 222),    S(184, 218),    S(187, 223),    S(207, 214),    S(185, 191),    //
    S(202, 189),    S(229, 207),    S(232, 226),    S(237, 251),    S(268, 232),    S(191, 222),    S(192, 196),    S(154, 195),    //
    S(219, 156),    S(238, 186),    S(244, 207),    S(252, 226),    S(232, 235),    S(209, 222),    S(172, 202),    S(166, 168),    //
    S(242, 162),    S(275, 173),    S(288, 191),    S(238, 220),    S(230, 203),    S(224, 208),    S(232, 184),    S(177, 188),    //
    S(220, 126),    S(305, 144),    S(266, 154),    S(234, 177),    S(215, 181),    S(217, 156),    S(215, 159),    S(212, 144),    //
    S(233, 142),    S(223, 166),    S(228, 188),    S(240, 151),    S(235, 154),    S(235, 198),    S(229, 175),    S(213, 167),    //
};
inline const std::array<PParam, 64> ROOK_PSQT = {
    S(482, 325),    S(525, 327),    S(480, 345),    S(486, 332),    S(480, 323),    S(448, 330),    S(445, 343),    S(432, 353),    //
    S(377, 384),    S(472, 362),    S(542, 338),    S(484, 351),    S(473, 355),    S(449, 359),    S(376, 390),    S(355, 398),    //
    S(357, 369),    S(486, 332),    S(526, 319),    S(499, 316),    S(459, 331),    S(415, 354),    S(415, 353),    S(337, 393),    //
    S(344, 349),    S(436, 343),    S(464, 331),    S(446, 330),    S(436, 335),    S(394, 354),    S(384, 352),    S(309, 376),    //
    S(303, 311),    S(376, 315),    S(369, 330),    S(347, 333),    S(332, 343),    S(323, 356),    S(296, 349),    S(272, 349),    //
    S(283, 270),    S(352, 278),    S(344, 301),    S(330, 298),    S(324, 298),    S(300, 321),    S(292, 305),    S(254, 315),    //
    S(190, 287),    S(317, 239),    S(329, 260),    S(327, 271),    S(316, 274),    S(304, 282),    S(287, 266),    S(255, 283),    //
    S(240, 284),    S(267, 294),    S(328, 266),    S(344, 258),    S(332, 268),    S(314, 284),    S(301, 281),    S(278, 300),    //
};
inline const std::array<PParam, 64> QUEEN_PSQT = {
    S(645, 514),    S(695, 484),    S(665, 533),    S(617, 616),    S(626, 585),    S(619, 568),    S(645, 495),    S(574, 556),    //
    S(644, 567),    S(613, 652),    S(597, 690),    S(457, 781),    S(464, 769),    S(529, 712),    S(567, 607),    S(578, 580),    //
    S(623, 605),    S(676, 622),    S(619, 705),    S(566, 738),    S(539, 727),    S(568, 679),    S(618, 580),    S(615, 531),    //
    S(656, 542),    S(675, 604),    S(610, 677),    S(598, 721),    S(582, 725),    S(580, 654),    S(635, 560),    S(618, 529),    //
    S(657, 521),    S(662, 561),    S(634, 624),    S(599, 678),    S(597, 671),    S(599, 624),    S(612, 552),    S(633, 482),    //
    S(638, 458),    S(674, 502),    S(673, 561),    S(641, 563),    S(634, 558),    S(635, 569),    S(643, 499),    S(622, 471),    //
    S(620, 354),    S(655, 355),    S(662, 413),    S(679, 450),    S(665, 476),    S(656, 446),    S(625, 478),    S(630, 457),    //
    S(594, 371),    S(629, 219),    S(648, 233),    S(670, 330),    S(672, 392),    S(667, 349),    S(655, 373),    S(613, 423),    //
};
inline const std::array<PParam, 64> KING_PSQT = {
    S(-216, -291),  S(217, 71),     S(157, 36),     S(-152, 19),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(279, -118),   S(243, 118),    S(84, 133),     S(-29, 45),     S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(185, 21),     S(287, 89),     S(160, 100),    S(4, 43),       S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-40, 26),     S(163, 69),     S(-11, 88),     S(-118, 68),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-132, 18),    S(38, 50),      S(-58, 64),     S(-193, 75),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-55, 5),      S(79, 24),      S(-36, 47),     S(-98, 33),     S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(45, -40),     S(54, 19),      S(-43, 34),     S(-109, 18),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-45, -73),    S(42, -49),     S(-59, -35),    S(-71, -97),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
};

inline const std::array<std::array<PParam, 7>, 4> KING_SHELTER = {{
  {{ S(21, -21), S(-7, 14), S(-10, 17), S(2, 3), S(2, 1), S(-7, 17), S(-4, 17), }},
  {{ S(16, -11), S(-26, 25), S(-19, 19), S(-6, 1), S(-5, 3), S(-18, 25), S(-25, 36), }},
  {{ S(-12, -4), S(-28, 20), S(-28, 3), S(-22, -11), S(-21, -10), S(-26, 3), S(-26, 17), }},
  {{ S(8, -16), S(-20, -21), S(-8, -21), S(0, -25), S(-0, -24), S(-8, -19), S(-15, -17), }},
}};
inline const std::array<PParam, 7> BLOCKED_SHELTER_STORM = {
    S(0, 0), S(0, 0), S(29, 9), S(-5, 21), S(-8, 16), S(-4, 10), S(-7, -2),
};
inline const std::array<std::array<PParam, 7>, 4> SHELTER_STORM = {{
  {{ S(3, 8), S(-9, 13), S(-8, 12), S(-3, 5), S(-4, -1), S(-6, 4), S(-10, 11), }},
  {{ S(-1, 11), S(-12, 16), S(-20, 21), S(-8, 5), S(-6, 1), S(-18, 16), S(-12, 15), }},
  {{ S(-5, 10), S(-12, 5), S(-12, 11), S(-2, 5), S(0, 2), S(-12, 9), S(-11, 6), }},
  {{ S(-6, 11), S(-15, 12), S(-15, 10), S(-4, 10), S(-1, 8), S(-15, 9), S(-18, 10), }},
}};
inline TunableSigmoid<32> KING_SAFETY_ACTIVATION(
        872, 441, -45, 51
);
// Epoch duration: 9.14627s
// clang-format on
}  // namespace Clockwork
